"use strict";(self.webpackChunk_reneos_3d_mod_tweens=self.webpackChunk_reneos_3d_mod_tweens||[]).push([[84,261,637,908],{70:(e,t,o)=>{o.d(t,{A:()=>r});const n=new(o(232).Group);let a=!1;class i{static get Group(){return n}static Add(e){n.add(e),a||(a=!0,i.Update())}static Remove(e){n.remove(e),0===n.getAll().length&&(a=!1)}static Update(e){a&&(n.update(e),requestAnimationFrame(i.Update))}static ToDegrees(e){return 180*e/Math.PI}static ToRadians(e){return e*Math.PI/180}static ToRadiansV3(e){return{x:e.x*Math.PI/180,y:e.y*Math.PI/180,z:e.z*Math.PI/180}}}const r=i},155:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var n=o(232),a=o(70);const i=`${Date.now()}_${Math.random()}`;function r(e,t,o=!1){return new Promise((r=>{e.tween&&e.tween.uid===i&&(e.tween.stop(),a.A.Remove(e.tween));let l=t;if(e.paths)for(let t=0;t<e.paths.length;t++)l=l[e.paths[t]];if(e.target)for(let t=0;t<e.target.length;t++)l=l.children.find((o=>o.uid===e.target[t]));const s="accurate"===e.from.type?{...e.from.value}:{x:l.model.scale.x+e.from.value.x,y:l.model.scale.y+e.from.value.y,z:l.model.scale.z+e.from.value.z};let d=e.scale||l.model.scale;if("target"===e.to.type){let o=t.slide||t;for(let t=0;t<e.to.paths.length;t++)o=o.children.find((o=>o.uid===e.to.paths[t]));d=o.scale||o.model.scale}const c="accurate"===e.to.type?e.to.value:{x:d.x+e.to.value.x,y:d.y+e.to.value.y,z:d.z+e.to.value.z};l.model.scale.copy(s),e.tween=new n.Tween(s).to(c,o?0:e.time||1e3).delay(o?0:e.delay||0).easing(n.Easing.Quadratic.InOut).yoyo(e.yoyo).repeat(e.repeat).onUpdate((()=>{l.model.scale.copy(s)})).onComplete((()=>{a.A.Remove(e.tween),e.tween=null,r()})),e.tween.uid=i,e.tween.start(),a.A.Add(e.tween)}))}},195:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var n=o(232),a=o(70);const i=`${Date.now()}_${Math.random()}`;function r(e,t,o=!1){return console.log("run TweenPos"),new Promise((r=>{e.tween&&e.tween.uid===i&&(e.tween.stop(),a.A.Remove(e.tween));let l=t;if(e.paths)for(let t=0;t<e.paths.length;t++)l=l[e.paths[t]];if(e.target)for(let t=0;t<e.target.length;t++)l=l.children.find((o=>o.uid===e.target[t]));const s="accurate"===e.from.type?{...e.from.value}:{x:l.model.position.x+e.from.value.x,y:l.model.position.y+e.from.value.y,z:l.model.position.z+e.from.value.z};let d=e.position||l.data.position||l.model.data.position||l.model.position;if("target"===e.to.type){let o=t.slide||t;for(let t=0;t<e.to.paths.length;t++)o=o.children.find((o=>o.uid===e.to.paths[t]));d=o.position||o.model.position}const c="accurate"===e.to.type?e.to.value:{x:d.x+e.to.value.x,y:d.y+e.to.value.y,z:d.z+e.to.value.z};console.log("Tween pos from ",s," to ",c," target ",l.uid),l.model.position.copy(s),e.tween=new n.Tween(s).to(c,o?0:e.time||1e3).delay(o?0:e.delay||0).easing(n.Easing.Quadratic.InOut).yoyo(e.yoyo).repeat(e.repeat).onUpdate((()=>{l.model.position.copy(s)})).onComplete((()=>{a.A.Remove(e.tween),e.tween=null,r()})),e.tween.uid=i,e.tween.start(),a.A.Add(e.tween)}))}},470:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var n=o(232),a=o(70);const i=`${Date.now()}_${Math.random()}`;function r(e,t,o=!1){return console.log("run TweenRotate"),new Promise((r=>{e.tween&&e.tween.uid===i&&(e.tween.stop(),a.A.Remove(e.tween));let l=t;if(e.paths)for(let t=0;t<e.paths.length;t++)l=l[e.paths[t]];if(e.target)for(let t=0;t<e.target.length;t++)l=l.children.find((o=>o.uid===e.target[t]));const s="accurate"===e.from.type?a.A.ToRadiansV3({...e.from.value}):{x:l.model.rotation.x+a.A.ToRadians(e.from.value.x),y:l.model.rotation.y+a.A.ToRadians(e.from.value.y),z:l.model.rotation.z+a.A.ToRadians(e.from.value.z)};let d=e.rotation||l.data.rotation||l.model.data.rotation||l.model.rotation;if("target"===e.to.type){let o=t.slide||t;for(let t=0;t<e.to.paths.length;t++)o=o.children.find((o=>o.uid===e.to.paths[t]));d=o.rotation||o.model.rotation}const c="accurate"===e.to.type?a.A.ToRadiansV3(e.to.value):{x:d.x+a.A.ToRadians(e.to.value.x),y:d.y+a.A.ToRadians(e.to.value.y),z:d.z+a.A.ToRadians(e.to.value.z)};l.model.rotation.set(s.x,s.y,s.z,"XYZ"),e.tween=new n.Tween(s).to(c,o?0:e.time||1e3).delay(o?0:e.delay||0).easing(n.Easing.Quadratic.InOut).yoyo(e.yoyo).repeat(e.repeat).onUpdate((()=>{l.model.rotation.set(s.x,s.y,s.z,"XYZ")})).onComplete((()=>{a.A.Remove(e.tween),e.tween=null,r()})),e.tween.uid=i,e.tween.start(),a.A.Add(e.tween)}))}},844:(e,t,o)=>{o.r(t);var n=o(64),a=o(655),i=o(155),r=o(195),l=o(470),s=o(232);const d=n.default||n;!function e(){if(d.engine.ready){if(d.engine.getManager("ActionsManager").RegisterAction("TweenScale",i.default),d.engine.getManager("ActionsManager").RegisterAction("TweenPos",r.default),d.engine.getManager("ActionsManager").RegisterAction("TweenRotate",l.default),!window.isEditor)return;const e=(0,a.defineAsyncComponent)((async()=>{const e=await o.e(821).then(o.t.bind(o,821,19));return e.default||e}));window.vue.component("TweenScale",e);const t=(0,a.defineAsyncComponent)((async()=>{const e=await o.e(341).then(o.t.bind(o,341,19));return e.default||e}));window.vue.component("TweenPos",t);const n=(0,a.defineAsyncComponent)((async()=>{const e=await o.e(812).then(o.t.bind(o,812,19));return e.default||e}));window.vue.component("TweenRotate",n),d.actions.register({component:"TweenPos",type:"tweens",name:"Animate Position",template:{name:"New Tween Position",from:{type:"accurate",value:{x:0,y:0,z:0}},to:{type:"accurate",value:{x:0,y:0,z:0}},delay:0,time:1e3,easing:"Easing.Linear.InOut",repeat:0,yoyo:!0}}),d.actions.register({component:"TweenRotate",type:"tweens",name:"Animate Rotation",template:{name:"New Tween Rotation",from:{type:"accurate",value:{x:0,y:0,z:0}},to:{type:"accurate",value:{x:0,y:0,z:0}},delay:0,time:1e3,easing:"Easing.Linear.InOut",repeat:0,yoyo:!0}}),d.actions.register({component:"TweenScale",type:"tweens",name:"Animate Scale",template:{name:"New Tween Scale",from:{type:"accurate",value:{x:1,y:1,z:1}},to:{type:"accurate",value:{x:1,y:1,z:1}},delay:0,time:1e3,easing:"Easing.Linear.InOut",repeat:0,yoyo:!0}}),window.TWEEN=s}else d.engine.onload(e)}()}}]);