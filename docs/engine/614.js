"use strict";(self.webpackChunk_reneos_3d_editor_engine=self.webpackChunk_reneos_3d_editor_engine||[]).push([[614],{30:(t,s,o)=>{o.d(s,{A:()=>r});var i=o(472),e=o(475);class n extends i.Object3D{static get IsElement(){return!0}constructor(t){super(),this.isElement=!0,this.uid=t.uid,this.data=t,this.type="BaseElement",this.transform=new e.A(this,!1),this.actions=t.actions||[]}get model(){return this}addElement(t,s,o,i){o===this?(this.add(s),t.transform?.position&&s.position.copy(i[t.transform.position]||t.transform.position),t.transform?.scale&&s.scale.copy(i[t.transform.scale]||t.transform.scale)):o.addElement(t,s,o,i)}}const r=n},614:(t,s,o)=>{o.r(s),o.d(s,{default:()=>r});var i=o(540),e=o(30);class n extends e.A{constructor(t,s){super(t),this.isModel=!0,this.type="Model",t.transform?.position&&this.position.copy(t.transform.position),t.transform?.rotation&&this.rotation.set(t.transform.rotation.x,t.transform.rotation.y,t.transform.rotation.z,"XYZ"),t.transform?.scale&&this.scale.copy(t.transform.scale),this.transition=t.transition,this.basePos=this.position.clone()}removeAsset(t){const s=this.children.find((s=>s.uid===t));s&&this.remove(s)}addAsset(t,s){console.log(t,s),s.position.copy(t.transform?.position||{x:0,y:0,z:0}),s.rotation.setFromVector3(t.transform?.rotation||{x:0,y:0,z:0},"XYZ"),s.scale.copy(t.transform?.scale||{x:1,y:1,z:1}),t.transform?.quaternion&&s.quaternion.copy(t.transform?.quaternion),s.traverse((t=>{t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0,t.geometry.computeBoundingBox())})),this.add(s)}find(t){const s=t.split(".");let o=this;for(let t=0;t<s.length;t++)o=this.children.find((o=>o.uid===s[t])),list=o.children;return o}onHoverCall(t,s){}onOutCall(t,s){}hide(t,s,o){if(!this.transition?.hide)return;if(!o)return void(this.visible=!1);const e=o[this.transition.hide];return new Promise((o=>{const n=this.basePos.clone();let r;const a=new i.Tween(n).to(e.to,e.time||100).delay(t*e.delay||100).easing(i.Easing.Linear.InOut).onUpdate((()=>{this.position.copy(n)})).onComplete((()=>{const t=s.indexOf(r);t>=0&&s.splice(t,1),this.visible=!1,o()}));r=a.update.bind(a),a.start(),s.push(r)}))}show(t,s){console.log("Show element "+t),console.log(this.position)}}const r=n},475:(t,s,o)=>{o.d(s,{A:()=>i});const i=class{constructor(t,s=!1){this.model=t,s&&(this._position={x:this.model.position.x,y:this.model.position.y,z:this.model.position.z},this._rotation={x:this.model.rotation.x,y:this.model.rotation.y,z:this.model.rotation.z},this._scale={x:this.model.scale.x,y:this.model.scale.y,z:this.model.scale.z}),this._reactive=null}create(t,s){this[`_${t}`]=s}clean(t){delete this[`_${t}`]}update({position:t,rotation:s,scale:o}){this._reactive.position=this._position={x:t.x,y:t.y,z:t.z},this._reactive.rotation=this._rotation={x:s.x,y:s.y,z:s.z},this._reactive.scale=this._scale={x:o.x,y:o.y,z:o.z}}get position(){return this._position}set position(t){this._position=t,this.model.position.copy(this._position)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.model.rotation.set(this._rotation.x,this._rotation.y,this._rotation.z,"XYZ")}get scale(){return this._scale}set scale(t){this._scale=t,this.model.scale.copy(this._scale)}}}}]);