"use strict";(self.webpackChunk_reneos_3d_mod_tweens=self.webpackChunk_reneos_3d_mod_tweens||[]).push([[261,479],{155:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var l=a(232);function o(e,t,a,o){return new Promise((n=>{const i=t,c="accurate"===e.from.type?{...e.from.value}:i.model.scale.clone().add(e.from.value);o.tween=new l.Tween(c).to("accurate"===e.to.type?e.to.value:i.model.scale.clone().add(e.to.value),e.time||1e3).delay(e.delay||0).easing(l.Easing.Quadratic.InOut).yoyo(e.yoyo).repeat(e.repeat).onUpdate((()=>{i.model.scale.copy(c)})).onComplete((()=>{a.remove(o.tween),o.tween=null,n()})),o.tween.start(),a.add(o.tween)}))}},262:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}},487:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var l=a(655);const o={class:"vertflex"},n={class:"flex-line"},i={class:"value-title"},c={class:"flex-line"},r={class:"line-title"},s={class:"value-title"},d={class:"flex-fit"},u={class:"flex-line"},m={class:"line-title"},p={class:"value-title"},v={class:"flex-fit"},y={class:"flex-line"},V={class:"value-title"},f={class:"flex-line"},N={class:"value-title"},h={class:"flex-line"},E={class:"value-title"},k={class:"flex-line"},x={class:"value-title"},w={class:"flex-line"},g={class:"line-title"};var C=a(232),B=a(155),b=a(652);let U;const $={name:"TweenScale",props:["actionuid","selecteduid"],data:()=>({played:!1,act:{}}),computed:{action(){return this.$app.actions.list[this.actionuid]},target(){return this.$app.selection.selected},transform(){return this.$app.selection.selected.model?.transform||this.$app.selection.selected.transform}},methods:{copyFromModel(e){const t=this.target.model.scale.clone();e.value.x=t.x,e.value.y=t.y,e.value.z=t.z},reset(){const e=this.target.transform.scale||this.target.model?.transform?.scale;this.target.model.scale.copy(e)},async play(){if(this.played)return this.played=!1,void this.$emit("play",this.played);this.played=!0,this.$emit("play",this.played),U=new C.Group,this.reset();const e=t=>{this.played&&(U.update(t),requestAnimationFrame(e))};e(),await(0,B.default)(this.action,this.target,U,this.act),this.played=!1,this.$emit("play",this.played)}},components:{RepeatSelector:b.A}},_=(0,a(262).A)($,[["render",function(e,t,a,C,B,b){const U=(0,l.resolveComponent)("icon"),$=(0,l.resolveComponent)("V3"),_=(0,l.resolveComponent)("FloatInput"),S=(0,l.resolveComponent)("RepeatSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",n,[t[11]||(t[11]=(0,l.createElementVNode)("div",{class:"line-title"},"Тип: ",-1)),(0,l.createElementVNode)("div",i,(0,l.toDisplayString)(b.action.type),1)]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",r,[t[12]||(t[12]=(0,l.createTextVNode)("Из: ")),["accurate"].includes(b.action.from.type)?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=e=>b.copyFromModel(b.action.from))},[(0,l.createVNode)(U,{value:"target",size:"0.9em"})])):(0,l.createCommentVNode)("v-if",!0)]),(0,l.createElementVNode)("div",s,[(0,l.withDirectives)((0,l.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>b.action.from.type=e)},t[13]||(t[13]=[(0,l.createElementVNode)("option",{value:"accurate"},"Точный размер",-1),(0,l.createElementVNode)("option",{value:"relative"},"Относительный размер",-1)]),512),[[l.vModelSelect,b.action.from.type]])])]),(0,l.createElementVNode)("div",d,[["accurate","relative"].includes(b.action.from.type)?((0,l.openBlock)(),(0,l.createBlock)($,{key:0,"onUpdate:values":t[2]||(t[2]=e=>b.action.from.value=e),step:.1,values:b.action.from.value},null,8,["values"])):(0,l.createCommentVNode)("v-if",!0)]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",m,[t[14]||(t[14]=(0,l.createTextVNode)("В:")),["accurate"].includes(b.action.to.type)?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:0,onClick:t[3]||(t[3]=e=>b.action.to.value===b.target.model.scale.clone())},[(0,l.createVNode)(U,{value:"target",size:"0.9em"})])):(0,l.createCommentVNode)("v-if",!0)]),(0,l.createElementVNode)("div",p,[(0,l.withDirectives)((0,l.createElementVNode)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>b.action.to.type=e)},t[15]||(t[15]=[(0,l.createElementVNode)("option",{value:"accurate"},"Точный размер",-1),(0,l.createElementVNode)("option",{value:"relative"},"Относительный размер",-1)]),512),[[l.vModelSelect,b.action.to.type]])])]),(0,l.createElementVNode)("div",v,[["accurate","relative"].includes(b.action.to.type)?((0,l.openBlock)(),(0,l.createBlock)($,{key:0,"onUpdate:values":t[5]||(t[5]=e=>b.action.to.value=e),step:.1,values:b.action.to.value},null,8,["values"])):(0,l.createCommentVNode)("v-if",!0)]),(0,l.createElementVNode)("div",y,[t[16]||(t[16]=(0,l.createElementVNode)("div",{class:"line-title"},"Отсрочка (мсек): ",-1)),(0,l.createElementVNode)("div",V,[(0,l.createVNode)(_,{value:b.action.delay,min:0,decimals:0,step:10,onChanged:t[6]||(t[6]=e=>b.action.delay=e)},null,8,["value"])])]),(0,l.createElementVNode)("div",f,[t[17]||(t[17]=(0,l.createElementVNode)("div",{class:"line-title"},"Время (мсек): ",-1)),(0,l.createElementVNode)("div",N,[(0,l.createVNode)(_,{value:b.action.time,min:0,decimals:0,step:10,onChanged:t[7]||(t[7]=e=>b.action.time=e)},null,8,["value"])])]),(0,l.createElementVNode)("div",h,[t[19]||(t[19]=(0,l.createElementVNode)("div",{class:"line-title"},"Затухание: ",-1)),(0,l.createElementVNode)("div",E,[(0,l.withDirectives)((0,l.createElementVNode)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>b.action.easing=e)},t[18]||(t[18]=[(0,l.createElementVNode)("option",{value:"Easing.Linear.InOut"},"Linear In Out",-1),(0,l.createElementVNode)("option",{value:"Easing.Quadratic.InOut"},"Quadratic Out",-1),(0,l.createElementVNode)("option",{value:"Easing.Quadratic.InOut"},"Cubic Out",-1)]),512),[[l.vModelSelect,b.action.easing]])])]),(0,l.createElementVNode)("div",k,[t[20]||(t[20]=(0,l.createElementVNode)("div",{class:"line-title"},"Замыкание:",-1)),(0,l.createElementVNode)("div",x,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>b.action.yoyo=e),type:"checkbox"},null,512),[[l.vModelCheckbox,b.action.yoyo]])])]),(0,l.createElementVNode)("div",w,[t[21]||(t[21]=(0,l.createElementVNode)("div",null,"Повторы:",-1)),(0,l.createElementVNode)("div",null,[(0,l.createVNode)(S,{repeat:b.action.repeat,"onUpdate:repeat":t[10]||(t[10]=e=>b.action.repeat=e)},null,8,["repeat"])])]),(0,l.createCommentVNode)(' <div class="flex-line">\r\n            <div class="line-title">Последовательность: </div>\r\n            <div class="value-title">\r\n                <input type="checkbox">\r\n            </div>\r\n        </div> '),(0,l.createElementVNode)("div",g,[(0,l.renderSlot)(e.$slots,"default")])])}]])},652:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(655);const o={style:{display:"flex","flex-wrap":"nowrap",gap:"10px","justify-content":"flex-end"}},n={props:{repeat:{type:[Number],required:!0}},computed:{rep:{get(){return this.repeat},set(e){this.$emit("update:repeat",e)}}},watch:{infin(e){this.$emit("update:repeat",e?1/0:this.inputRepeat)}},data(){return{inputRepeat:this.repeat,infin:!1}}},i=(0,a(262).A)(n,[["render",function(e,t,a,n,i,c){const r=(0,l.resolveComponent)("icon");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[i.infin?(0,l.createCommentVNode)("v-if",!0):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:0,style:{width:"42px",height:"0.98em"},type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>c.rep=e),min:"0"},null,512)),[[l.vModelText,c.rep,void 0,{number:!0}]]),(0,l.createVNode)(r,{style:(0,l.normalizeStyle)({opacity:i.infin?1:.5}),value:"infinite",size:"1em"},null,8,["style"]),(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.infin=e),type:"checkbox"},null,512),[[l.vModelCheckbox,i.infin]])])}]])}}]);