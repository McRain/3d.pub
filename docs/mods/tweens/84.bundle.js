"use strict";(self.webpackChunk_reneos_3d_mod_tweens=self.webpackChunk_reneos_3d_mod_tweens||[]).push([[84],{70:(t,e,a)=>{a.d(e,{A:()=>d});const o=new(a(232).Group);let n=!1;class r{static get Group(){return o}static Add(t){o.add(t),n||(n=!0,r.Update())}static Remove(t){o.remove(t),0===o.getAll().length&&(n=!1)}static Update(t){n&&(o.update(t),requestAnimationFrame(r.Update))}static ToDegrees(t){return 180*t/Math.PI}static ToRadians(t){return t*Math.PI/180}static ToRadiansV3(t){return{x:t.x*Math.PI/180,y:t.y*Math.PI/180,z:t.z*Math.PI/180}}}const d=r},470:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var o=a(232),n=a(70);const r=`${Date.now()}_${Math.random()}`;function d(t,e,a=!1){return console.log("run TweenRotate"),new Promise((d=>{t.tween&&t.tween.uid===r&&(t.tween.stop(),n.A.Remove(t.tween));let i=e;if(t.paths)for(let e=0;e<t.paths.length;e++)i=i[t.paths[e]];if(t.target)for(let e=0;e<t.target.length;e++)i=i.children.find((a=>a.uid===t.target[e]));const s="accurate"===t.from.type?n.A.ToRadiansV3({...t.from.value}):{x:i.model.rotation.x+n.A.ToRadians(t.from.value.x),y:i.model.rotation.y+n.A.ToRadians(t.from.value.y),z:i.model.rotation.z+n.A.ToRadians(t.from.value.z)};let l=t.rotation||i.data.rotation||i.model.data.rotation||i.model.rotation;if("target"===t.to.type){let a=e.slide||e;for(let e=0;e<t.to.paths.length;e++)a=a.children.find((a=>a.uid===t.to.paths[e]));l=a.rotation||a.model.rotation}const u="accurate"===t.to.type?n.A.ToRadiansV3(t.to.value):{x:l.x+n.A.ToRadians(t.to.value.x),y:l.y+n.A.ToRadians(t.to.value.y),z:l.z+n.A.ToRadians(t.to.value.z)};i.model.rotation.set(s.x,s.y,s.z,"XYZ"),t.tween=new o.Tween(s).to(u,a?0:t.time||1e3).delay(a?0:t.delay||0).easing(o.Easing.Quadratic.InOut).yoyo(t.yoyo).repeat(t.repeat).onUpdate((()=>{i.model.rotation.set(s.x,s.y,s.z,"XYZ")})).onComplete((()=>{n.A.Remove(t.tween),t.tween=null,d()})),t.tween.uid=r,t.tween.start(),n.A.Add(t.tween)}))}}}]);