"use strict";(self.webpackChunk_reneos_3d_editor_engine=self.webpackChunk_reneos_3d_editor_engine||[]).push([[614],{30:(t,s,e)=>{e.d(s,{A:()=>n});var i=e(909);class o extends i.Object3D{static get IsElement(){return!0}constructor(t){super(),this.isElement=!0,this.isBase=!0,this.uid=t.uid,this.data=t,this.type="element",this.actions=t.actions||[],t.position&&(this.position.copy(t.position),this.data.position=this.position.clone()),t.rotation&&(this.rotation.setFromVector3(t.rotation,"XYZ"),this.data.rotation=this.rotation.clone()),t.scale&&(this.scale.copy(t.scale),this.data.scale=this.scale.clone())}exportData(){const{model:t,children:s,...e}=this.data,i=JSON.parse(JSON.stringify(e));if(this.data.rotation&&(i.rotation={x:this.data.rotation.x,y:this.data.rotation.y,z:this.data.rotation.z}),s){i.children=[];for(let t=0;t<s.length;t++){const e=s[t],o=this.children.find((t=>t.uid===e.uid));i.children[t]=o.exportData?o.exportData():JSON.parse(JSON.stringify(o.data||{}))}}return i}addAction(t){this.actions.push(t)}get model(){return this}find(t){const s=t.split(".");let e=this;for(let t=0;t<s.length;t++)e=this.children.find((e=>e.uid===s[t])),list=e.children;return e}get view(){return this.visible}set view(t){this.visible=t,this.data.view=t}}const n=o},614:(t,s,e)=>{e.r(s),e.d(s,{default:()=>n});var i=e(30);class o extends i.A{constructor(t){super(t),this.isModel=!0,this.type="model"}setAssets(t,s){for(let e=0;e<s.length;e++)this.setAsset(t[e],s[e])}setAsset(t,s){const e=t.resource;t.on("update",this.updateAsset.bind(this,e)),this.add(e),this.traverse((t=>[t.visible=this.visible]))}updateAsset(t,s){this.traverse((s=>{s!==t||this.remove(s)})),this.add(s)}removeAsset(t){const s=this.children.find((s=>s.uid===t));s&&this.remove(s)}addAsset(t,s){s.position.copy(t.position||{x:0,y:0,z:0}),s.rotation.setFromVector3(t.rotation||{x:0,y:0,z:0},"XYZ"),s.scale.copy(t.scale||{x:1,y:1,z:1}),t.quaternion&&s.quaternion.copy(t.quaternion),s.traverse((t=>{t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0,t.geometry.computeBoundingBox())})),this.add(s)}}const n=o}}]);