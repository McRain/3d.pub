"use strict";(self.webpackChunk_reneos_3d_editor_engine=self.webpackChunk_reneos_3d_editor_engine||[]).push([[614],{30:(t,o,s)=>{s.d(o,{A:()=>r});var i=s(472),e=s(475);class n extends i.Object3D{static get IsElement(){return!0}constructor(t){super(),this.isElement=!0,this.uid=t.uid,this.data=t,this.type="BaseElement",this.transform=new e.A(this,!1),this.actions=t.actions||[]}get model(){return this}addElement(t,o,s,i){s===this?(this.add(o),t.transform?.position&&o.position.copy(i[t.transform.position]||t.transform.position),t.transform?.scale&&o.scale.copy(i[t.transform.scale]||t.transform.scale)):s.addElement(t,o,s,i)}}const r=n},614:(t,o,s)=>{s.r(o),s.d(o,{default:()=>r});var i=s(40),e=s(30);class n extends e.A{constructor(t,o){super(t),this.isModel=!0,this.type="Model",t.transform?.position&&this.position.copy(t.transform.position),t.transform?.rotation&&this.rotation.set(t.transform.rotation.x,t.transform.rotation.y,t.transform.rotation.z,"XYZ"),t.transform?.scale&&this.scale.copy(t.transform.scale),this.transition=t.transition,this.basePos=this.position.clone()}removeAsset(t){const o=this.children.find((o=>o.uid===t));o&&this.remove(o)}addAsset(t,o){console.log(t,o),o.position.copy(t.transform?.position||{x:0,y:0,z:0}),o.rotation.setFromVector3(t.transform?.rotation||{x:0,y:0,z:0},"XYZ"),o.scale.copy(t.transform?.scale||{x:1,y:1,z:1}),t.transform?.quaternion&&o.quaternion.copy(t.transform?.quaternion),o.traverse((t=>{t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0,t.geometry.computeBoundingBox())})),this.add(o)}find(t){const o=t.split(".");let s=this;for(let t=0;t<o.length;t++)s=this.children.find((s=>s.uid===o[t])),list=s.children;return s}onHoverCall(t,o){}onOutCall(t,o){}hide(t,o,s){if(!this.transition?.hide)return;if(!s)return void(this.visible=!1);const e=s[this.transition.hide];return new Promise((s=>{const n=this.basePos.clone();let r;const a=new i.K(n).to(e.to,e.time||100).delay(t*e.delay||100).easing(i.GS.Linear.InOut).onUpdate((()=>{this.position.copy(n)})).onComplete((()=>{const t=o.indexOf(r);t>=0&&o.splice(t,1),this.visible=!1,s()}));r=a.update.bind(a),a.start(),o.push(r)}))}show(t,o){console.log("Show element "+t),console.log(this.position)}}const r=n},475:(t,o,s)=>{s.d(o,{A:()=>i});const i=class{constructor(t,o=!1){this.model=t,o&&(this._position={x:this.model.position.x,y:this.model.position.y,z:this.model.position.z},this._rotation={x:this.model.rotation.x,y:this.model.rotation.y,z:this.model.rotation.z},this._scale={x:this.model.scale.x,y:this.model.scale.y,z:this.model.scale.z}),this._reactive=null}create(t,o){this[`_${t}`]=o}clean(t){delete this[`_${t}`]}update({position:t,rotation:o,scale:s}){this._reactive.position=this._position={x:t.x,y:t.y,z:t.z},this._reactive.rotation=this._rotation={x:o.x,y:o.y,z:o.z},this._reactive.scale=this._scale={x:s.x,y:s.y,z:s.z}}get position(){return this._position}set position(t){this._position=t,this.model.position.copy(this._position)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.model.rotation.set(this._rotation.x,this._rotation.y,this._rotation.z,"XYZ")}get scale(){return this._scale}set scale(t){this._scale=t,this.model.scale.copy(this._scale)}}}}]);